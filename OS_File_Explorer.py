# Modules imported for this program

import os
from tkinter import *
from tkinter import messagebox
from tkinter import filedialog
import webbrowser


# Window system

root = Tk()
root.configure(background="#696969")
root.title('OS_FILE_EXPLORER')
root.resizable(0,0)


# MENU AND DOCS STUFF

def New_file():

    # The window system for New_file function
    
    root_new_file = Tk()
    root_new_file.title('New_File')
    root_new_file.resizable(0, 0)

    # A create file label

    createfile_label = Label(root_new_file, text="Create a new file")
    createfile_label.pack()

    # An entry for the user to type in a new file

    Entry_file = Entry(root_new_file)
    Entry_file.pack()

    # A function for a new file created by the user
    
    def new_file():
        file = open(str(Entry_file.get()), 'w+')
        file.close()
        root_new_file.destroy()

    file_submit = Button(root_new_file, text='Submit', width=17, command=new_file)
    file_submit.pack()

  
# a menubar for this program

menubar = Menu(root)
menubar.add_command(label='New file', command=New_file)



# Text OS Logo

if os.name == 'posix':
    Unix_label = Label(root, text="UNIX", bg="black", fg="orange", font="Bold 20")
    Unix_label.grid(row=0, column=1)
elif os.name == 'nt':
    Windows_label = Label(root, text="Windows", bg="white", fg="blue", font="Bold 20")
    Windows_label.grid(row=0, column=1)

# DIRECTORY STUFF

# The path name variable

CWD_name = os.getcwd()

# LISTBOX AND SCROLLBARS ON LISTBOX

# Listbox variable

list_dirs = Listbox(root, width=50, height=25)

# Scrollbars for the listbox

scroll_listy = Scrollbar(root, command=list_dirs.yview, width=20)
scroll_listx = Scrollbar(root, command=list_dirs.xview, width=20, orient=HORIZONTAL)

list_dirs.configure(yscrollcommand = scroll_listy.set)
list_dirs.configure(xscrollcommand = scroll_listx.set)

# Placing Scrollbars and a Listbox on the window

scroll_listy.grid(row=4, column=5, sticky='ns')
scroll_listx.grid(row=10, column=1, sticky='ew')

list_dirs.grid(row=4, column=1)

# A gray backgrou d label

gray_background = Label(root, text='                                            ', width=50, bg='gray')
gray_background.grid(row=1, column=1)

# A directory name label

director_name = Label(root, text=f"{CWD_name}", bg="gray", font="Bold 10")
director_name.grid(row=1, column=1)

# A for loop that shows all of the things in a working directory

for dirpath, dirnames, filenames in os.walk(os.getcwd()):
    
    i = 0
    
    list_dirs.insert(i, f"Current Path: {dirpath}")
    list_dirs.insert(i, f"Directories: {dirnames}")
    list_dirs.insert(i, f"Files: {filenames}")
    list_dirs.insert(i, "")
    
    i += 1

# SHOWING ALL DIRECTORY NAMEs STUFF

# A function for opening a window for showing dirnames
def show_dirnames():

    # A window system for showing dirnames
    
    root_dirnames = Tk()
    root_dirnames.title('DIRECTORY_NAMES_LISTS')

    # I am to lazy name this label

    label = Label(root_dirnames, fg='white', bg='black', text=f'All directories in {os.getcwd()}')
    label.pack()

    # A list box that shows all dirnames in a path

    dirnames_list = Listbox(root_dirnames, width=175, height=100)
    dirnames_list.pack()

    # An index number for the 'for' loop below
    
    list_number = 1

    # A for loop to show all the dirnames in path
    
    for dirpath, dirnames, filenames in os.walk(os.getcwd()):
        dirnames_list.insert(list_number - 1, f'{list_number}. {dirpath}')
        
        list_number += 1
       
# A button for opening the Dirnames List window

dirnames_Button = Button(root, text=f'Dir_path', width=10, bg='gray', height=20, command=show_dirnames)
dirnames_Button.grid(row=4,column=0)


    
# AN ENTRY

cwd = Entry(root)
cwd.grid(row=2, column=1)

# YEAH, A WORKING DIRECTORY FUNCTION (I AM TO LAZY TO WRITE COMMENTS IN THAT FUNCTION

def CWD():
    try:
        os.chdir(str(cwd.get()))
        CWD_name = os.getcwd()
        

        gray_background = Label(root, text='                                            ', width=50, bg='gray')
        gray_background.grid(row=1, column=1)

        
        director_name = Label(root, text=f"{CWD_name}", bg="gray", font="Bold 10")
        director_name.grid(row=1, column=1)
        list_dirs.destroy()


        list_dirs1 = Listbox(root, width=50, height=25)
        scroll_listy = Scrollbar(root, command=list_dirs.yview, width=20)
        scroll_listx = Scrollbar(root, command=list_dirs.xview, width=20, orient=HORIZONTAL)

        list_dirs1.configure(yscrollcommand = scroll_listy.set)
        list_dirs1.configure(xscrollcommand = scroll_listx.set)

        scroll_listy.grid(row=4, column=5, sticky='ns')
        scroll_listx.grid(row=10, column=1, sticky='ew')
        list_dirs1.grid(row=4, column=1)

        
        
        for dirpath, dirnames, filenames in os.walk(os.getcwd()):
            
            i = 0
            list_dirs1.insert(i, f"Current Path: {dirpath}")
            list_dirs1.insert(i, f"Directories: {dirnames}")
            list_dirs1.insert(i, f"Files: {filenames}")
            list_dirs1.insert(i, "")
    
            i += 1
    except:
        messagebox.showinfo('DIRECTOR_NAME_ERROR', 'INVALID DIRECTOR')
        
# A SUBMIT BUTTON THAT CHANGES A WORKING DIRECTORY

cwd_submit = Button(root, text="Change the working directory", command=CWD)
cwd_submit.grid(row=3, column=1)

# WINDOW MAINLOOP AND PUTTING IN MENUBAR

root.config(menu=menubar)
root.mainloop()
